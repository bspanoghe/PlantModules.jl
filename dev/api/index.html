<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · PlantModules</title><meta name="title" content="API · PlantModules"/><meta property="og:title" content="API · PlantModules"/><meta property="twitter:title" content="API · PlantModules"/><meta name="description" content="Documentation for PlantModules."/><meta property="og:description" content="Documentation for PlantModules."/><meta property="twitter:description" content="Documentation for PlantModules."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">PlantModules</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../tutorials/1_basics_notebook/">Basics tutorial</a></li><li><a class="tocitem" href="../tutorials/2_advanced_notebook/">Advanced tutorial</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Shapes"><span>Shapes</span></a></li><li class="toplevel"><a class="tocitem" href="#Graph-functions"><span>Graph functions</span></a></li><li class="toplevel"><a class="tocitem" href="#Shape-functions"><span>Shape functions</span></a></li><li class="toplevel"><a class="tocitem" href="#Smooth-functions"><span>Smooth functions</span></a></li><li class="toplevel"><a class="tocitem" href="#Node-modules"><span>Node modules</span></a></li><li class="toplevel"><a class="tocitem" href="#Edge-modules"><span>Edge modules</span></a></li><li class="toplevel"><a class="tocitem" href="#Graph-reading-and-converting"><span>Graph reading and converting</span></a></li><li class="toplevel"><a class="tocitem" href="#System-remaking"><span>System remaking</span></a></li><li class="toplevel"><a class="tocitem" href="#Plotting"><span>Plotting</span></a></li></ul></li><li><a class="tocitem" href="../variables/">List of variables</a></li><li><a class="tocitem" href="../theory/">Theoretical overview</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/bspanoghe/PlantModules.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/bspanoghe/PlantModules.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="System-creation"><a class="docs-heading-anchor" href="#System-creation">System creation</a><a id="System-creation-1"></a><a class="docs-heading-anchor-permalink" href="#System-creation" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PlantModules.generate_system"><a class="docstring-binding" href="#PlantModules.generate_system"><code>PlantModules.generate_system</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">generate_system(plantstructure::PlantStructure, plantparams::PlantParameters,
	plantcoupling::PlantCoupling; checkunits::Bool = true)</code></pre><p>Create a ModelingToolkit.jl <a href="@ref"><code>System</code></a> that describes the functional behaviour of the input graph structure.</p><p><strong>Arguments</strong></p><ul><li><code>plantstructure</code>: A graph specifying how the structural modules are connected.</li><li><code>plantparams</code>: Additional functional information about the connections between structural modules. See <a href="#PlantModules.PlantParameters"><code>PlantParameters</code></a>.</li><li><code>plantcoupling</code>: Coupling between functional and structural modules. See <a href="#PlantModules.PlantCoupling"><code>PlantCoupling</code></a>.</li><li><code>checkunits</code>: Should the model check the units of the given equations? Defaults to <code>true</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/generate_system.jl#L79-L90">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.PlantStructure"><a class="docstring-binding" href="#PlantModules.PlantStructure"><code>PlantModules.PlantStructure</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PlantStructure{T} &lt;: AbstractGraph{T}</code></pre><p>The internal graph implementation used for <a href="#PlantModules.generate_system"><code>generate_system</code></a>.</p><p><strong>Constructor</strong></p><pre><code class="language-julia hljs">PlantStructure(graphs::Vector, intergraph_connections::Vector; return_id_conversions::Bool = false)</code></pre><p>Connect graphs together into a single <code>PlantStructure</code> graph.</p><p>Warning: This function defines its own node ids to simplify the integration with the rest of the <code>Graphs.jl</code> ecosystem.</p><p>Inputs:</p><ul><li><code>graphs::Vector</code>: A vector of graphs representing the plants and their environment.</li><li><code>intergraph_connections::Vector</code>: A vector of pairs between 2 indexes of above graphs and how they are linked.</li><li><code>return_id_conversions::Bool</code>: Should the function return a dictionary mapping the newly defined node ids to the original nodes?</li></ul><p><strong>Alternatives</strong></p><p>Other graph implementations can also be used by extending the following functions: </p><ul><li><a href="#PlantModules.getnodes"><code>getnodes</code></a></li><li><a href="#PlantModules.getneighbors"><code>getneighbors</code></a></li><li><a href="#PlantModules.getattributes"><code>getattributes</code></a></li><li><a href="#PlantModules.getstructmod"><code>getstructmod</code></a></li><li><a href="#PlantModules.getid"><code>getid</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/plantstructure.jl#L23-L49">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.PlantCoupling"><a class="docstring-binding" href="#PlantModules.PlantCoupling"><code>PlantModules.PlantCoupling</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PlantCoupling</code></pre><p>A container for the coupling of plant structure and function. Used in <a href="#PlantModules.generate_system"><code>generate_system</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>module_coupling::Dict</code>: Coupling between functional and structural modules.</li><li><code>connecting_modules::Dict{Tuple{Symbol, Symbol}, Function}</code>: The <code>System</code> to use for edges between specified nodes.</li><li><code>connecting_eqs::Function</code>: A function returning a vector of equations linking a node and all its edges.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/generate_system.jl#L3-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.PlantParameters"><a class="docstring-binding" href="#PlantModules.PlantParameters"><code>PlantModules.PlantParameters</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PlantParameters</code></pre><p>A container for functional parameters. Used in <a href="#PlantModules.generate_system"><code>generate_system</code></a>.</p><p><strong>Fields</strong></p><ul><li><code>default_values::Dict{Symbol, &lt;:Any}</code>: The model-wide default values of parameters and initial values.</li><li><code>module_defaults::Dict{Symbol, Dict}</code>: Module-specific default values of parameters and initial values.</li><li><code>connection_values::Dict{Tuple{Symbol, Symbol}, Dict}</code>: Connection-specific values of parameters and initial values.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/generate_system.jl#L19-L28">source</a></section></details></article><h1 id="Shapes"><a class="docs-heading-anchor" href="#Shapes">Shapes</a><a id="Shapes-1"></a><a class="docs-heading-anchor-permalink" href="#Shapes" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PlantModules.ModuleShape"><a class="docstring-binding" href="#PlantModules.ModuleShape"><code>PlantModules.ModuleShape</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ModuleShape</code></pre><p>An abstract type representing the physical shape of a structural module, used by the hydraulic functional module.</p><p><strong>Functions</strong></p><p>The functional modules implemented in this package expect the following functions to be defined for the shape <code>MyShape</code> with dimensions the vector <code>D</code>:</p><ul><li><a href="#PlantModules.getdimensionality"><code>getdimensionality</code></a><code>(m::MyShape)</code>: Return how many dimensions define the shape.</li><li><a href="#PlantModules.volume"><code>volume</code></a><code>(m::MyShape, D)</code>: Calculate the volume of the shape.</li><li><a href="#PlantModules.cross_area"><code>cross_area</code></a><code>(m::MyShape, D)</code>: Calculate the cross-sectional area of the shape.</li><li><a href="#PlantModules.surface_area"><code>surface_area</code></a><code>(m::MyShape, D)</code>: Calculate the surface area of the shape.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L3-L15">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.Sphere"><a class="docstring-binding" href="#PlantModules.Sphere"><code>PlantModules.Sphere</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Sphere &lt;: ModuleShape</code></pre><p>A spherical compartment shape, defined by a single dimension: the radius.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L18-L22">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.Cylinder"><a class="docstring-binding" href="#PlantModules.Cylinder"><code>PlantModules.Cylinder</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Cylinder &lt;: ModuleShape</code></pre><p>A cylindrical compartment shape, defined by two dimensions: the radius and the length.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L25-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.Cuboid"><a class="docstring-binding" href="#PlantModules.Cuboid"><code>PlantModules.Cuboid</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Cuboid &lt;: ModuleShape</code></pre><p>A cuboidal compartment shape, defined by three dimensions: the length, the width and the thickness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L32-L36">source</a></section></details></article><h1 id="Graph-functions"><a class="docs-heading-anchor" href="#Graph-functions">Graph functions</a><a id="Graph-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Graph-functions" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PlantModules.getnodes"><a class="docstring-binding" href="#PlantModules.getnodes"><code>PlantModules.getnodes</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">getnodes(graph)</code></pre><p>Returns a <code>Vector</code> containing all nodes of the given graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/graph_functions.jl#L3-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.getneighbors"><a class="docstring-binding" href="#PlantModules.getneighbors"><code>PlantModules.getneighbors</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">getneighbors(node, graph)</code></pre><p>Returns a <code>Vector</code> containing the neighbours of the given node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/graph_functions.jl#L10-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.getattributes"><a class="docstring-binding" href="#PlantModules.getattributes"><code>PlantModules.getattributes</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">getattributes(node)</code></pre><p>Returns a <code>Dict</code> containing the functional variable names and values of the given node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/graph_functions.jl#L17-L21">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.getstructmod"><a class="docstring-binding" href="#PlantModules.getstructmod"><code>PlantModules.getstructmod</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">getstructmod(node)</code></pre><p>Returns the structural module corresponding with the node as a <code>Symbol</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/graph_functions.jl#L24-L28">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.getid"><a class="docstring-binding" href="#PlantModules.getid"><code>PlantModules.getid</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">getid(node)</code></pre><p>Returns the id of the node as an <code>Int</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/graph_functions.jl#L31-L35">source</a></section></details></article><h1 id="Shape-functions"><a class="docs-heading-anchor" href="#Shape-functions">Shape functions</a><a id="Shape-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Shape-functions" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PlantModules.getdimensionality"><a class="docstring-binding" href="#PlantModules.getdimensionality"><code>PlantModules.getdimensionality</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">getdimensionality(s::ModuleShape)</code></pre><p>Return the number of dimensions that define shape <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L39-L43">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.volume"><a class="docstring-binding" href="#PlantModules.volume"><code>PlantModules.volume</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">volume(s::ModuleShape, ::AbstractArray)</code></pre><p>Calculate the volume of a given shape.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L73-L77">source</a></section><section><div><pre><code class="language-julia hljs">volume(::Sphere, D::AbstractArray)</code></pre><p>Calculate the volume of a sphere.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L79-L83">source</a></section><section><div><pre><code class="language-julia hljs">volume(::Cylinder, D::AbstractArray)</code></pre><p>Calculate the volume of a cylinder. Dimensions are assumed to be in the order: radius, length.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L85-L89">source</a></section><section><div><pre><code class="language-julia hljs">volume(::Cuboid, D::AbstractArray)</code></pre><p>Calculate the volume of a cuboid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L91-L95">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.cross_area"><a class="docstring-binding" href="#PlantModules.cross_area"><code>PlantModules.cross_area</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">cross_area(s::ModuleShape, ::AbstractArray)</code></pre><p>Calculate the cross-sectional area of a given shape.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L99-L103">source</a></section><section><div><pre><code class="language-julia hljs">cross_area(::Sphere, D::AbstractArray)</code></pre><p>Calculate the cross-sectional area of a sphere, defined as the area of a circle with the same radius.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L105-L109">source</a></section><section><div><pre><code class="language-julia hljs">cross_area(::Cylinder, D::AbstractArray)</code></pre><p>Calculate the cross-sectional area of a cylinder, defined as its base area. Dimensions are assumed to be in the order: radius, length.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L111-L115">source</a></section><section><div><pre><code class="language-julia hljs">cross_area(::Cuboid, D::AbstractArray)</code></pre><p>Calculate the cross-sectional area of a cuboid, defined as the product of its first two dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L117-L121">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.surface_area"><a class="docstring-binding" href="#PlantModules.surface_area"><code>PlantModules.surface_area</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">surface_area(s::ModuleShape, ::AbstractArray)</code></pre><p>Calculate the surface area of a given shape.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L124-L128">source</a></section><section><div><pre><code class="language-julia hljs">surface_area(::Sphere, D::AbstractArray)</code></pre><p>Calculate the surface area of a sphere.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L130-L134">source</a></section><section><div><pre><code class="language-julia hljs">surface_area(::Cylinder, D::AbstractArray)</code></pre><p>Calculate the surface area of a cylinder. Dimensions are assumed to be in the order: radius, length.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L136-L140">source</a></section><section><div><pre><code class="language-julia hljs">surface_area(::Cuboid, D::AbstractArray)</code></pre><p>Calculate the surface area of a cuboid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/shapes.jl#L142-L146">source</a></section></details></article><h1 id="Smooth-functions"><a class="docs-heading-anchor" href="#Smooth-functions">Smooth functions</a><a id="Smooth-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Smooth-functions" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PlantModules.logsumexp"><a class="docstring-binding" href="#PlantModules.logsumexp"><code>PlantModules.logsumexp</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">logsumexp(xs::AbstractArray; α = 1.0)</code></pre><p>Return the smoothed maximum of an array, where <code>α</code> controls the steepness of the smoothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/smoothfuncs.jl#L1-L5">source</a></section><section><div><pre><code class="language-julia hljs">logsumexp(x; α = 1.0)</code></pre><p>Return the smoothed maximum of the argument and zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/smoothfuncs.jl#L7-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.smooth_daynight"><a class="docstring-binding" href="#PlantModules.smooth_daynight"><code>PlantModules.smooth_daynight</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">smooth_daynight(t, t_sunrise, t_sunset, ymin = 0, ymax = 1)</code></pre><p>Return a value that smoothly switches between <code>ymax</code> at day and <code>ymin</code> at night.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/smoothfuncs.jl#L14-L18">source</a></section></details></article><h1 id="Node-modules"><a class="docs-heading-anchor" href="#Node-modules">Node modules</a><a id="Node-modules-1"></a><a class="docs-heading-anchor-permalink" href="#Node-modules" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PlantModules.hydraulic_module"><a class="docstring-binding" href="#PlantModules.hydraulic_module"><code>PlantModules.hydraulic_module</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">hydraulic_module(; name, shape, ϕ_D, E_D, Γ, T, D, Ψ, M)</code></pre><p>Return a ModelingToolkit System describing the turgor-driven growth of a plant compartment.</p><p>This module still requires a module describing the osmotically active metabolite content M.</p><p><strong>Inputs</strong></p><p><strong>Parameters</strong></p><ul><li><code>shape</code>: The shape, defined as an instance of <a href="#PlantModules.ModuleShape"><code>PlantModules.ModuleShape</code></a>.</li><li><code>ϕ_D</code>: The dimensional extensibility [1 / MPa / h], must be a vector with a value for every dimension of the compartment&#39;s shape.</li><li><code>E_D</code>: The dimensional elastic modulus [MPa], must be a vector with a value for every dimension of the compartment&#39;s shape.</li><li><code>Γ</code>: The yield turgor pressure [MPa].</li><li><code>T</code>: The temperature [K].</li></ul><p><strong>Initial values</strong></p><ul><li><code>D</code>: The dimensions [cm], must be a vector with a value for every dimension of the compartment&#39;s shape.</li><li><code>Ψ</code>: The total water potential [MPa].</li><li><code>M</code>: The osmotically active metabolite concentration [mol/cm^3].</li><li><code>h</code>: The height above a chosen reference level [cm].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L8-L28">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.environmental_module"><a class="docstring-binding" href="#PlantModules.environmental_module"><code>PlantModules.environmental_module</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">environmental_module(; name, T, W_max, W_r)</code></pre><p>Return a ModelingToolkit System describing a non-growing water reservoir.</p><p>This module still requires a module describing the total water potential Ψ.</p><p><strong>Inputs</strong></p><p><strong>Parameters</strong></p><ul><li><code>T</code>: The temperature [K].</li><li><code>W_max</code>: The water capacity of the compartment [g].</li></ul><p><strong>Initial values</strong></p><ul><li><code>W_r</code>: The relative water content, equal to the ratio of the current water content <code>W</code> over the water capacity <code>W_max</code> [g/g].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L76-L90">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.constant_carbon_module"><a class="docstring-binding" href="#PlantModules.constant_carbon_module"><code>PlantModules.constant_carbon_module</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">constant_carbon_module(; name, M)</code></pre><p>Return a ModelingToolkit System describing a constant concentration of osmotically active metabolite content.</p><p><strong>Inputs</strong></p><p><strong>Initial values</strong></p><ul><li><code>M</code>: The osmotically active metabolite concentration [mol/cm^3].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L151-L159">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.simple_photosynthesis_module"><a class="docstring-binding" href="#PlantModules.simple_photosynthesis_module"><code>PlantModules.simple_photosynthesis_module</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">simple_photosynthesis_module(; name, M, shape)</code></pre><p>Return a ModelingToolkit System describing a concentration of osmotically active metabolite content increasing during day and decreasing in function of the current concentration.</p><p><strong>Inputs</strong></p><p><strong>Parameters</strong></p><ul><li><code>shape</code>: The shape, defined as an instance of <a href="#PlantModules.ModuleShape"><code>PlantModules.ModuleShape</code></a>.</li><li><code>t_sunrise</code>: The time of sunrise [h].</li><li><code>t_sunset</code>: The time of sunset [h].</li><li><code>A_max</code>: The maximum carbon assimilation rate [mol / cm^2 / h].</li><li><code>M_c</code>: The rate of carbon consumption [1 / h].</li></ul><p><strong>Initial values</strong></p><ul><li><code>M</code>: The osmotically active metabolite concentration [mol/cm^3].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L112-L127">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.Ψ_soil_module"><a class="docstring-binding" href="#PlantModules.Ψ_soil_module"><code>PlantModules.Ψ_soil_module</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Ψ_soil_module(; name)</code></pre><p>Return a ModelingToolkit System describing an empirical relationship between the total water potential of the soil and its relative water content.</p><p><strong>Inputs</strong></p><p>None.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L202-L209">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.Ψ_air_module"><a class="docstring-binding" href="#PlantModules.Ψ_air_module"><code>PlantModules.Ψ_air_module</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Ψ_air_module(; name, T)</code></pre><p>Return a ModelingToolkit System describing the relationship between the total water potential of the air and its relative water content.</p><p><strong>Inputs</strong></p><p><strong>Parameters</strong></p><ul><li><code>T</code>: The temperature [K].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L177-L185">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.K_module"><a class="docstring-binding" href="#PlantModules.K_module"><code>PlantModules.K_module</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">K_module(; name, K_s, shape::ModuleShape)</code></pre><p>Return a ModelingToolkit System describing the hydraulic conductance of a compartment as the product of its specific hydraulic conductance and an area of the compartment.</p><p><strong>Inputs</strong></p><p><strong>Parameters</strong></p><ul><li><code>shape</code>: The shape, defined as an instance of <a href="#PlantModules.ModuleShape"><code>PlantModules.ModuleShape</code></a>.</li><li><code>K_s</code>: The specific hydraulic conductivity, defined per unit area of the cross section [g / h / MPa / cm^2].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L228-L237">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.constant_K_module"><a class="docstring-binding" href="#PlantModules.constant_K_module"><code>PlantModules.constant_K_module</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">constant_K_module(; name, K_s, shape::ModuleShape)</code></pre><p>Return a ModelingToolkit System describing the hydraulic conductance of a  compartment as a constant.</p><p><strong>Inputs</strong></p><p><strong>Parameters</strong></p><ul><li><code>K</code>: The hydraulic conductivity [g / h / MPa].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L256-L265">source</a></section></details></article><h1 id="Edge-modules"><a class="docs-heading-anchor" href="#Edge-modules">Edge modules</a><a id="Edge-modules-1"></a><a class="docs-heading-anchor-permalink" href="#Edge-modules" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PlantModules.hydraulic_connection"><a class="docstring-binding" href="#PlantModules.hydraulic_connection"><code>PlantModules.hydraulic_connection</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">hydraulic_connection(; name)</code></pre><p>Returns a ModelingToolkit System describing a water flow connection between two hydraulics-based compartments.</p><p>This module assumes the compartments have a specified hydraulic conductivities.</p><p><strong>Inputs</strong></p><p>None.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L283-L292">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.constant_hydraulic_connection"><a class="docstring-binding" href="#PlantModules.constant_hydraulic_connection"><code>PlantModules.constant_hydraulic_connection</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">constant_hydraulic_connection(; name, K)</code></pre><p>Returns a ModelingToolkit System describing a water flow connection between two hydraulics-based functional modules.</p><p>This module specifies a constant hydraulic conductivity between the compartments.</p><p><strong>Inputs</strong></p><p><strong>Parameters</strong></p><ul><li><code>K</code>: The hydraulic conductivity [g / h / MPa].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L368-L378">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.daynight_hydraulic_connection"><a class="docstring-binding" href="#PlantModules.daynight_hydraulic_connection"><code>PlantModules.daynight_hydraulic_connection</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">daynight_hydraulic_connection(; name, t_sunrise, t_sunset, η_night)</code></pre><p>Returns a ModelingToolkit System describing a water flow connection between two hydraulics-based compartments that decreases at night.</p><p>This module assumes the compartments have a specified hydraulic conductivities.</p><p><strong>Inputs</strong></p><p><strong>Parameters</strong></p><ul><li><code>t_sunrise</code>: The time of sunrise [h].</li><li><code>t_sunset</code>: The time of sunset [h].</li><li><code>η_night</code>: The ratio of the hydraulic conductivity at night over the default hydraulic conducivity.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/func_modules.jl#L320-L332">source</a></section></details></article><h1 id="Graph-reading-and-converting"><a class="docs-heading-anchor" href="#Graph-reading-and-converting">Graph reading and converting</a><a id="Graph-reading-and-converting-1"></a><a class="docs-heading-anchor-permalink" href="#Graph-reading-and-converting" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PlantModules.readXEG"><a class="docstring-binding" href="#PlantModules.readXEG"><code>PlantModules.readXEG</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">readXEG(file::String)</code></pre><p>Reads in the graph from a given XEG format file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/graph_reading.jl#L1-L5">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.convert_to_MTG"><a class="docstring-binding" href="#PlantModules.convert_to_MTG"><code>PlantModules.convert_to_MTG</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">convert_to_MTG(graph)</code></pre><p>Convert a graph to MultiScaleTreeGraph.jl format. Requires definition of standard graph functions and tree graph functions (see graph_functions.jl)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/graph_conversion.jl#L6-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.convert_to_PG"><a class="docstring-binding" href="#PlantModules.convert_to_PG"><code>PlantModules.convert_to_PG</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">convert_to_PG(graph)</code></pre><p>Convert a graph to PlantGraphs.jl format. Requires definition of standard graph functions and tree graph functions (see graph_functions.jl)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/graph_conversion.jl#L32-L36">source</a></section></details></article><h1 id="System-remaking"><a class="docs-heading-anchor" href="#System-remaking">System remaking</a><a id="System-remaking-1"></a><a class="docs-heading-anchor-permalink" href="#System-remaking" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PlantModules.remake_graphsystem"><a class="docstring-binding" href="#PlantModules.remake_graphsystem"><code>PlantModules.remake_graphsystem</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">remake_graphsystem(prob::AbstractSciMLProblem, sys::System, structure, varnames, subsystem_types, value)</code></pre><p>Remake the given <code>prob</code>, changing the values of subsystem variables to a specified value. Only variables of given names and subsystem types are changed.</p><p><strong>Inputs</strong></p><ul><li><code>prob::AbstractSciMLProblem</code>: A SciML problem.</li><li><code>sys::System</code>: The ModelingToolkit.jl system corresponding to the given problem.</li><li><code>structure</code>: A graph representing the subsystem structure of the system. PlantModules&#39; graph functions must be extended for the graph type. See also <a href="#PlantModules.PlantStructure"><code>PlantStructure</code></a>.</li><li><code>varnames</code>: The name(s) of the desired variable.</li><li><code>subsystem_types</code>: The desired type(s) of subsystem. For node modules, this corresponds to a node or a structural module. For edge modules (or connection modules), this corresponds to a connection, being a 2-tuple of node(s) and structural module(s).</li><li><code>value</code>: The new variable value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/system_remaking.jl#L1-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.remake_graphsystem!"><a class="docstring-binding" href="#PlantModules.remake_graphsystem!"><code>PlantModules.remake_graphsystem!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">remake_graphsystem!(prob::AbstractSciMLProblem, sys::System, structure, varnames::Symbol, subsystem_types, value)</code></pre><p>Mutating version of <a href="#PlantModules.remake_graphsystem"><code>remake_graphsystem</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/system_remaking.jl#L25-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.get_subsystem_variables"><a class="docstring-binding" href="#PlantModules.get_subsystem_variables"><code>PlantModules.get_subsystem_variables</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_subsystem_variables(sys::System, structure, varname::Symbol, subsystem_type)</code></pre><p>Get the Symbolics representation of all variables (unknowns or parameters) of a system with a given subsystem structure, filtered by variable name and type of subsystem. See <a href="#PlantModules.remake_graphsystem"><code>remake_graphsystem</code></a> for more information about the inputs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/system_remaking.jl#L38-L43">source</a></section></details></article><h1 id="Plotting"><a class="docs-heading-anchor" href="#Plotting">Plotting</a><a id="Plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PlantModules.plotstructure"><a class="docstring-binding" href="#PlantModules.plotstructure"><code>PlantModules.plotstructure</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">plotstructure(plantstructure::PlantStructure)</code></pre><p>Visualise the structure of a plant system.</p><p>This function is a thin wrapper around <a href="@ref"><code>GraphRecipes.graphplot</code></a> with some keyword arguments specified for plant structures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/plotting.jl#L3-L9">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.plotgraph"><a class="docstring-binding" href="#PlantModules.plotgraph"><code>PlantModules.plotgraph</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">plotgraph(sol::ODESolution, graph; structmod, varname, kwargs...)</code></pre><p>Return a plot for every functional variable for every node of the given graph for the given solution <code>sol</code>. Optionally, the user can give the name of a functional variable to only return a plot of this variable, give the name of a structural module to limit considered nodes to those of this type, or both.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/plotting.jl#L23-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PlantModules.plotnode"><a class="docstring-binding" href="#PlantModules.plotnode"><code>PlantModules.plotnode</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">plotnode(sol::ODESolution, node; varname::Symbol)</code></pre><p>Return a plot for every functional variable of the given node for the given solution <code>sol</code>. Optionally, the user can give the name of a functional variable to only return a plot of this variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bspanoghe/PlantModules.jl/blob/48cdff371bc70436023e66b723e22da489e15fbe/src/plotting.jl#L57-L62">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorials/2_advanced_notebook/">« Advanced tutorial</a><a class="docs-footer-nextpage" href="../variables/">List of variables »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Monday 12 January 2026 10:38">Monday 12 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
